<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://js.pusher.com/8.2.0/pusher.min.js"></script>
<style>
body{margin:0;background:transparent;font-family:Arial}
#scoreBG{position:absolute;bottom:0;width:100%;display:none}
#sponsorBG{position:absolute;top:0;width:100%;display:none}
#playerBG{position:absolute;bottom:260px;left:40px;display:none}
#moment{position:absolute;top:30%;left:50%;transform:translateX(-50%);display:none}
.scoretext{position:absolute;bottom:60px;width:100%;text-align:center;color:white;font-size:32px}
.playertext{position:absolute;bottom:300px;left:160px;color:white}
</style>
</head>
<body>

<img id="scoreBG" src="assets/scoreboard.png">
<img id="sponsorBG" src="assets/sponsorbar.png">
<img id="playerBG" src="assets/player_lower.png">
<img id="moment">

<div id="scoreText" class="scoretext"></div>
<div id="playerText" class="playertext"></div>

<script>
const p=new Pusher("40ce89af9ae13d222f51",{cluster:"us2"});
const ch=p.subscribe("broadcast");

ch.bind("update",d=>{

if(d.showScore){
scoreBG.style.display="block";
scoreText.innerText=`${d.teamA} ${d.score} ${d.teamB} | Overs ${d.overs} | RRR ${d.rrr}`;
}else scoreBG.style.display="none";

if(d.showSponsors){
sponsorBG.style.display="block";
}else sponsorBG.style.display="none";

if(d.player?.name){
playerBG.style.display="block";
playerText.innerText=d.player.name+" - "+d.player.hand;
setTimeout(()=>playerBG.style.display="none",6000);
}

if(d.moment){
moment.src="assets/"+d.moment.toLowerCase()+".png";
moment.style.display="block";
setTimeout(()=>moment.style.display="none",3000);
}

});
</script>
</body>
</html>
