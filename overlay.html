
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://js.pusher.com/8.2.0/pusher.min.js"></script>
<style>
body{margin:0;background:transparent;font-family:Arial;color:white}

/* Bottom CricClubs Bar */
#bottomBar{
position:absolute;bottom:20px;left:50%;
transform:translateX(-50%);
width:85%;height:110px;
background:#1c1c1c;border-top:4px solid #e10600;
border-radius:12px;overflow:hidden;display:none;
}
#bottomBar iframe{width:100%;height:100%;border:none}

/* Scoreboard */
#scoreWrap{
position:absolute;top:30px;left:50%;
transform:translateX(-50%);
background:#111;padding:10px 30px;
border:2px solid #e10600;border-radius:12px;
display:none;
}

/* Player lower third */
#player{
position:absolute;bottom:150px;left:40px;
background:#111;padding:14px;border-radius:10px;
display:none;
}

/* Lineups */
#lineups{
position:absolute;top:120px;left:50%;
transform:translateX(-50%);
background:#111;padding:20px;border-radius:12px;
display:none;
}

/* Sponsor */
#sponsorBar{
position:absolute;top:0;width:100%;
background:#e10600;padding:6px;text-align:center;
}

#moment{
position:absolute;top:40%;width:100%;
text-align:center;font-size:120px;color:#e10600;
opacity:0;transition:.4s;
}
.show{opacity:1}
</style>
</head>
<body>

<div id="scoreWrap"><div id="scoreText"></div></div>
<div id="bottomBar"><iframe id="cricFrame"></iframe></div>
<div id="player"><div id="playerText"></div></div>
<div id="lineups"></div>
<div id="sponsorBar"></div>
<div id="moment"></div>

<script>
const pusher=new Pusher("40ce89af9ae13d222f51",{cluster:"us2"});
const channel=pusher.subscribe("my-channel");

channel.bind("broadcast-update",d=>{

if(d.showScore!==undefined)
scoreWrap.style.display=d.showScore?"block":"none";

if(d.teamA){
scoreText.innerHTML=`${d.tournament}<br>
${d.teamA} ${d.score} ${d.teamB}<br>
Overs ${d.overs} | RRR ${d.rrr}`;
}

if(d.cricurl){
bottomBar.style.display="block";
cricFrame.src=d.cricurl;
}

if(d.player){
player.style.display="block";
playerText.innerText=`${d.player.name}
${d.player.hand||''}
Runs ${d.player.runs||''} Wkts ${d.player.wkts||''}`;
}

if(d.lineups?.show){
lineups.style.display="block";
lineups.innerHTML=`
<b>Team A</b><br>
${d.lineups.A.map(p=>p.name).join("<br>")}
<hr>
<b>Team B</b><br>
${d.lineups.B.map(p=>p.name).join("<br>")}
`;
}

if(d.sponsors)
sponsorBar.innerText=d.sponsors.join(" | ");

if(d.fullSponsor){
document.body.style.background=`url(${d.fullSponsor}) center/contain no-repeat black`;
}

if(d.moment){
moment.innerText=d.moment;
moment.classList.add("show");
setTimeout(()=>moment.classList.remove("show"),3000);
}

});
</script>

</body>
</html>
