<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://js.pusher.com/8.2.0/pusher.min.js"></script>
<style>
body{margin:0;background:transparent;font-family:Arial}
#scorebar{position:absolute;bottom:0;width:100%;display:none}
#sponsorbar{position:absolute;top:0;width:100%;display:none}
#playerpanel{position:absolute;bottom:220px;left:40px;display:none}
#tlogo{position:absolute;top:10px;right:20px;height:70px}
#moment{position:absolute;top:30%;left:50%;transform:translateX(-50%);display:none}

.scoretext{position:absolute;bottom:50px;width:100%;text-align:center;color:white;font-size:28px}
.playertext{position:absolute;bottom:260px;left:180px;color:white}
.slogos{position:absolute;top:20px;width:100%;text-align:center}
.slogos img{height:60px;margin:0 20px}
</style>
</head>
<body>

<img id="scorebar" src="assets/espn_scoreboard.png">
<img id="sponsorbar" src="assets/sponsor_bar.png">
<img id="playerpanel" src="assets/player_lower.png">
<img id="tlogo" src="assets/tournament_logo.png">
<img id="moment">

<div class="scoretext" id="scoreText"></div>
<div class="playertext" id="playerText"></div>
<div class="slogos" id="sponsorLogos"></div>

<script>
const p=new Pusher("40ce89af9ae13d222f51",{cluster:"us2"});
const ch=p.subscribe("broadcast");

ch.bind("update",d=>{

if(d.showScore){
scorebar.style.display="block";
scoreText.innerText=`${d.battingTeam} ${d.score} | Overs ${d.overs} | RRR ${d.rrr} | ${d.innings} Innings`;
}else scorebar.style.display="none";

if(d.showSponsors){
sponsorbar.style.display="block";
sponsorLogos.innerHTML=d.sponsors.map(s=>`<img src="${s}">`).join("");
}else sponsorbar.style.display="none";

if(d.tournamentLogo) tlogo.src=d.tournamentLogo;

if(d.player?.name){
playerpanel.style.display="block";
playerText.innerText=d.player.name+" - "+d.player.hand;
setTimeout(()=>playerpanel.style.display="none",6000);
}

if(d.showCric && d.cricURL){
scoreText.innerText="";
}

if(d.moment){
moment.style.display="block";
moment.src="assets/moment_"+d.moment.toLowerCase()+".png";
setTimeout(()=>moment.style.display="none",3000);
}

});
</script>

</body>
</html>
