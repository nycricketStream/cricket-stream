
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://js.pusher.com/8.2.0/pusher.min.js"></script>
<style>
body{margin:0;background:transparent;color:white;font-family:Arial}

#scoreWrap{
position:absolute;
top:40px;
left:50%;
transform:translateX(-50%);
display:flex;
align-items:center;
background:rgba(0,0,0,.6);
padding:12px 25px;
border-radius:14px;
}

#lower{
position:absolute;
bottom:60px;
left:60px;
background:rgba(0,0,0,.6);
padding:15px;
border-radius:14px;
display:none;
}

#moment{
position:absolute;
top:40%;
width:100%;
text-align:center;
font-size:150px;
opacity:0;
transition:.4s;
}

#embedContainer{
position:absolute;
bottom:0;
left:50%;
transform:translateX(-50%);
}

#sponsorbar{
position:absolute;
bottom:0;
width:100%;
text-align:center;
padding:10px;
background:rgba(0,0,0,.5);
}

.show{opacity:1}
</style>
</head>
<body>

<div id="scoreWrap"></div>

<div id="lower">
<div id="pname"></div>
<div id="pstats"></div>
<img id="pimg" height="80">
</div>

<div id="moment"></div>

<div id="embedContainer"></div>
<div id="sponsorbar"></div>

<script>
const pusher=new Pusher("40ce89af9ae13d222f51",{cluster:"us2"});
const channel=pusher.subscribe("my-channel");

let sponsorIndex=0;
let sponsorTimer=null;

channel.bind("broadcast-update",d=>{

if(d.teamA){
scoreWrap.innerHTML=
`${d.tournament||""} | ${d.teamA} ${d.score||""} ${d.teamB}
(Ov ${d.overs||""} | RRR ${d.rrr||""})`;
}

if(d.player){
lower.style.display="block";
pname.innerText=d.player.name;
pstats.innerText=`${d.player.runs||""}(${d.player.balls||""}) W:${d.player.wickets||""}`;
pimg.src=d.player.image||"";
setTimeout(()=>lower.style.display="none",6000);
}

if(d.moment){
moment.innerText=d.moment;
moment.classList.add("show");
setTimeout(()=>moment.classList.remove("show"),3000);
}

if(d.embed){
if(d.embed.show){
embedContainer.innerHTML=`
<iframe src="${d.embed.url}" width="800"
height="${d.embed.height}"
style="margin-top:${d.embed.cropTop}px;border:none"></iframe>`;
}else embedContainer.innerHTML="";
}

if(d.sponsors){
if(d.autoRotate){
clearInterval(sponsorTimer);
sponsorTimer=setInterval(()=>{
sponsorbar.innerText=d.sponsors[sponsorIndex];
sponsorIndex=(sponsorIndex+1)%d.sponsors.length;
},d.interval*1000);
}else{
sponsorbar.innerText=d.sponsors.join(" | ");
}
}

});
</script>

</body>
</html>
