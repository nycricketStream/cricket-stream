<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cricket Overlay</title>
<script src="https://js.pusher.com/8.2.0/pusher.min.js"></script>
<style>
body { margin:0; font-family: Arial; color:white; background:transparent; }
#overlay { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; }
.scoreboard { position:top:20px; left:20px; font-size:28px; }
.lower { position:bottom:20px; left:20px; background:rgba(0,0,0,0.6); padding:10px; border-radius:10px; display:none; }
.sponsors { position:top:80px; left:20px; display:flex; gap:10px; }
</style>
</head>
<body>
<div id="overlay">
  <div class="scoreboard" id="scoreboard"></div>
  <div class="lower" id="lower">
    <div id="playerName"></div>
    <div id="playerStats"></div>
    <img id="playerImage" style="height:80px;">
  </div>
  <div class="sponsors" id="sponsors"></div>
</div>

<script>
const PUSHER_KEY = "40ce89af9ae13d222f51";
const PUSHER_CLUSTER = "us2";

const pusher = new Pusher(PUSHER_KEY, { cluster: PUSHER_CLUSTER });
const channel = pusher.subscribe("my-channel");

channel.bind("update-score", data => {
  document.getElementById("scoreboard").innerText = `${data.teamA} ${data.score} ${data.teamB}`;
});

channel.bind("show-lower", data => {
  document.getElementById("playerName").innerText = data.name;
  document.getElementById("playerStats").innerText = data.stats;
  document.getElementById("playerImage").src = data.image;
  document.getElementById("lower").style.display = "block";
});

channel.bind("hide-lower", data => {
  document.getElementById("lower").style.display = "none";
});

channel.bind("update-sponsors", data => {
  const sponsorsDiv = document.getElementById("sponsors");
  sponsorsDiv.innerHTML = "";
  data.sponsors.split(",").forEach(url=>{
    const img = document.createElement("img");
    img.src = url.trim();
    img.style.height = "50px";
    sponsorsDiv.appendChild(img);
  });
});

channel.bind("moment", data => {
  alert("Moment: " + data.type);
});
</script>
</body>
</html>
